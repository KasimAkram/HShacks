{"ast":null,"code":"var _jsxFileName = \"/Users/kasimakram/Downloads/HShacks/client/src/Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '700px',\n  height: '800px'\n};\nconst generateEvents = center => {\n  const categories = [\"Community Cleanup\", \"Food Bank Assistance\", \"Senior Support\", \"Youth Mentoring\", \"Animal Shelter Help\"];\n  const names = [\"Kasim's\", \"Manny's\", \"Jeoffy's\", \"Alice's\", \"Bob's\", \"Cara's\", \"Derek's\", \"Eliza's\", \"Fred's\", \"Gina's\"];\n  const events = categories.flatMap(category => {\n    const randomName = names[Math.floor(Math.random() * names.length)]; // Pick a random name from the list\n    return {\n      name: `${randomName} ${category}`,\n      category,\n      location: {\n        lat: center.lat + (Math.random() * 0.015 - 0.005),\n        // Randomly generates latitude within ~0.5 miles\n        lng: center.lng + (Math.random() * 0.015 - 0.005) // Randomly generates longitude within ~0.5 miles\n      }\n    };\n  });\n  return events;\n};\nconst Search = ({\n  selectedVolunteeringOptions\n}) => {\n  _s();\n  const [currentLocation, setCurrentLocation] = useState({\n    lat: 42.1037217,\n    lng: -87.9602075\n  });\n  const [events, setEvents] = useState([]);\n  const [map, setMap] = useState(null);\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: \"AIzaSyClSmoUtoTchbsocJmVoUSbXfwWHFCoPOo\"\n  });\n  useEffect(() => {\n    const allEvents = generateEvents(currentLocation);\n    const filteredEvents = allEvents.filter(event => selectedVolunteeringOptions.includes(event.category));\n    const sortedEvents = filteredEvents.sort((a, b) => {\n      const distA = Math.hypot(currentLocation.lat - a.location.lat, currentLocation.lng - a.location.lng);\n      const distB = Math.hypot(currentLocation.lat - b.location.lat, currentLocation.lng - b.location.lng);\n      return distA - distB;\n    });\n    setEvents(sortedEvents);\n  }, [selectedVolunteeringOptions, currentLocation]); // Add currentLocation to the dependencies array\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const pos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setCurrentLocation(pos);\n      }, error => {\n        console.error('Geolocation failed: ', error);\n      });\n    }\n  }, []);\n  const onLoad = useCallback(function callback(map) {\n    setMap(map);\n  }, []);\n  const onUnmount = useCallback(function callback(map) {\n    setMap(null);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"centerMainDiv\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchMainDiv\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchListStyle\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Events Near You\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"event-list-container\",\n          children: events.map((event, index) => {\n            const distance = Math.round(Math.hypot(currentLocation.lat - event.location.lat, currentLocation.lng - event.location.lng) * 69);\n            const distanceText = `${distance} ${distance === 1 ? 'mile' : 'miles'} away`;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-name\",\n                children: event === null || event === void 0 ? void 0 : event.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-details\",\n                children: distanceText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), isLoaded && /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: containerStyle,\n        center: currentLocation,\n        zoom: 15.25 // closer zoom to show events within about a mile\n        ,\n        onLoad: onLoad,\n        onUnmount: onUnmount,\n        children: events.map((event, index) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: event.location,\n          label: event.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n_s(Search, \"uWS+5NQX/+1IqqqO+lXXtUp/Z/E=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","GoogleMap","Marker","useJsApiLoader","jsxDEV","_jsxDEV","containerStyle","width","height","generateEvents","center","categories","names","events","flatMap","category","randomName","Math","floor","random","length","name","location","lat","lng","Search","selectedVolunteeringOptions","_s","currentLocation","setCurrentLocation","setEvents","map","setMap","isLoaded","id","googleMapsApiKey","allEvents","filteredEvents","filter","event","includes","sortedEvents","sort","a","b","distA","hypot","distB","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","error","console","onLoad","callback","onUnmount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","distance","round","distanceText","mapContainerStyle","zoom","label","_c","$RefreshReg$"],"sources":["/Users/kasimakram/Downloads/HShacks/client/src/Search.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\n\nconst containerStyle = {\n    width: '700px',\n    height: '800px'\n};\n\nconst generateEvents = (center) => {\n    const categories = [\n        \"Community Cleanup\",\n        \"Food Bank Assistance\",\n        \"Senior Support\",\n        \"Youth Mentoring\",\n        \"Animal Shelter Help\"\n    ];\n\n    const names = [\n        \"Kasim's\",\n        \"Manny's\",\n        \"Jeoffy's\",\n        \"Alice's\",\n        \"Bob's\",\n        \"Cara's\",\n        \"Derek's\",\n        \"Eliza's\",\n        \"Fred's\",\n        \"Gina's\"\n    ];\n\n    const events = categories.flatMap(category => {\n        const randomName = names[Math.floor(Math.random() * names.length)]; // Pick a random name from the list\n        return {\n            name: `${randomName} ${category}`,\n            category,\n            location: {\n                lat: center.lat + (Math.random() * 0.015 - 0.005),  // Randomly generates latitude within ~0.5 miles\n                lng: center.lng + (Math.random() * 0.015 - 0.005)  // Randomly generates longitude within ~0.5 miles\n            }\n        };\n    });\n\n    return events;\n};\n\n\n\nconst Search = ({ selectedVolunteeringOptions }) => {\n    const [currentLocation, setCurrentLocation] = useState({ lat: 42.1037217, lng: -87.9602075 });\n    const [events, setEvents] = useState([]);\n    const [map, setMap] = useState(null);\n\n    const { isLoaded } = useJsApiLoader({\n        id: 'google-map-script',\n        googleMapsApiKey: \"AIzaSyClSmoUtoTchbsocJmVoUSbXfwWHFCoPOo\"\n    });\n\n    useEffect(() => {\n        const allEvents = generateEvents(currentLocation);\n        const filteredEvents = allEvents.filter(event => selectedVolunteeringOptions.includes(event.category));\n        const sortedEvents = filteredEvents.sort((a, b) => {\n            const distA = Math.hypot(currentLocation.lat - a.location.lat, currentLocation.lng - a.location.lng);\n            const distB = Math.hypot(currentLocation.lat - b.location.lat, currentLocation.lng - b.location.lng);\n            return distA - distB;\n        });\n        setEvents(sortedEvents);\n    }, [selectedVolunteeringOptions, currentLocation]); // Add currentLocation to the dependencies array\n\n\n    useEffect(() => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n                position => {\n                    const pos = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    };\n                    setCurrentLocation(pos);\n                },\n                error => {\n                    console.error('Geolocation failed: ', error);\n                }\n            );\n        }\n    }, []);\n\n    const onLoad = useCallback(function callback(map) {\n        setMap(map);\n    }, []);\n\n    const onUnmount = useCallback(function callback(map) {\n        setMap(null);\n    }, []);\n\n    return (\n        <div className='centerMainDiv'>\n            <div className='searchMainDiv'>\n                <div className='searchListStyle'>\n                    <h2>Events Near You</h2>\n                    <div className=\"event-list-container\">\n                        {events.map((event, index) => {\n                            const distance = Math.round(Math.hypot(currentLocation.lat - event.location.lat, currentLocation.lng - event.location.lng) * 69);\n                            const distanceText = `${distance} ${distance === 1 ? 'mile' : 'miles'} away`;\n                            return (\n                                <div key={index} className=\"event-card\">\n                                    <div className=\"event-name\">{event?.name}</div>\n                                    <div className=\"event-details\">{distanceText}</div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n                {isLoaded && (\n                    <GoogleMap\n                        mapContainerStyle={containerStyle}\n                        center={currentLocation}\n                        zoom={15.25} // closer zoom to show events within about a mile\n                        onLoad={onLoad}\n                        onUnmount={onUnmount}\n                    >\n                        {events.map((event, index) => (\n                            <Marker key={index} position={event.location} label={event.name} />\n                        ))}\n                    </GoogleMap>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default Search;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}