{"ast":null,"code":"var _jsxFileName = \"/Users/kasimakram/Downloads/HShacks/client/src/Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '600px',\n  height: '800px'\n};\nconst listStyle = {\n  width: '300px',\n  overflowY: 'auto',\n  height: '800px',\n  marginRight: '20px'\n};\nconst Search = ({\n  selectedVolunteeringOptions\n}) => {\n  _s();\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const [events, setEvents] = useState([]);\n  const [map, setMap] = useState(null);\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: \"AIzaSyClSmoUtoTchbsocJmVoUSbXfwWHFCoPOo\"\n  });\n  useEffect(() => {\n    const allEvents = generateEvents(currentLocation);\n    const filteredEvents = allEvents.filter(event => selectedVolunteeringOptions.includes(event.category));\n    const sortedEvents = filteredEvents.sort((a, b) => {\n      return Math.hypot(currentLocation.lat - a.location.lat, currentLocation.lng - a.location.lng) - Math.hypot(currentLocation.lat - b.location.lat, currentLocation.lng - b.location.lng);\n    });\n    setEvents(sortedEvents);\n  }, [selectedVolunteeringOptions]);\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const pos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        fetchNearbyCharities(pos);\n        console.log(pos);\n        setCurrentLocation(pos);\n      }, error => {\n        console.error('Geolocation failed: ', error);\n      });\n    }\n  }, []);\n  const onLoad = useCallback(function callback(map) {\n    setMap(map);\n  }, []);\n  const onUnmount = useCallback(function callback(map) {\n    setMap(null);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: listStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Events Near You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: events.map((event, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [event.name, \" (\", event.category, \") - Distance: \", Math.round(Math.hypot(currentLocation.lat - event.location.lat, currentLocation.lng - event.location.lng) * 69), \" miles\"]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), isLoaded && /*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: containerStyle,\n      center: currentLocation,\n      zoom: 14 // closer zoom to show events within about a mile\n      ,\n      onLoad: onLoad,\n      onUnmount: onUnmount,\n      children: events.map((event, index) => /*#__PURE__*/_jsxDEV(Marker, {\n        position: event.location,\n        label: event.name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(Search, \"6FeOyJdBfU504ONtRcykv9KSxBw=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","GoogleMap","Marker","useJsApiLoader","jsxDEV","_jsxDEV","containerStyle","width","height","listStyle","overflowY","marginRight","Search","selectedVolunteeringOptions","_s","currentLocation","setCurrentLocation","events","setEvents","map","setMap","isLoaded","id","googleMapsApiKey","allEvents","generateEvents","filteredEvents","filter","event","includes","category","sortedEvents","sort","a","b","Math","hypot","lat","location","lng","navigator","geolocation","getCurrentPosition","position","pos","coords","latitude","longitude","fetchNearbyCharities","console","log","error","onLoad","callback","onUnmount","style","display","flexDirection","children","fileName","_jsxFileName","lineNumber","columnNumber","index","name","round","mapContainerStyle","center","zoom","label","_c","$RefreshReg$"],"sources":["/Users/kasimakram/Downloads/HShacks/client/src/Search.js"],"sourcesContent":["\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { GoogleMap, Marker, useJsApiLoader } from '@react-google-maps/api';\n\nconst containerStyle = {\n    width: '600px',\n    height: '800px'\n};\n\nconst listStyle = {\n    width: '300px',\n    overflowY: 'auto',\n    height: '800px',\n    marginRight: '20px'\n};\n\nconst Search = ({ selectedVolunteeringOptions }) => {\n    const [currentLocation, setCurrentLocation] = useState(null);\n    const [events, setEvents] = useState([]);\n    const [map, setMap] = useState(null);\n\n    const { isLoaded } = useJsApiLoader({\n        id: 'google-map-script',\n        googleMapsApiKey: \"AIzaSyClSmoUtoTchbsocJmVoUSbXfwWHFCoPOo\"\n    });\n\n    useEffect(() => {\n        const allEvents = generateEvents(currentLocation);\n        const filteredEvents = allEvents.filter(event => selectedVolunteeringOptions.includes(event.category));\n        const sortedEvents = filteredEvents.sort((a, b) => {\n            return Math.hypot(currentLocation.lat - a.location.lat, currentLocation.lng - a.location.lng) -\n                   Math.hypot(currentLocation.lat - b.location.lat, currentLocation.lng - b.location.lng);\n        });\n        setEvents(sortedEvents);\n    }, [selectedVolunteeringOptions]);\n\n    useEffect(() => {\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(\n                position => {\n                    const pos = {\n                        lat: position.coords.latitude,\n                        lng: position.coords.longitude\n                    };\n                    fetchNearbyCharities(pos);\n                    console.log(pos)\n                    setCurrentLocation(pos);\n                },\n                error => {\n                    console.error('Geolocation failed: ', error);\n                }\n            );\n        }\n    }, []);\n\n    const onLoad = useCallback(function callback(map) {\n        setMap(map);\n    }, []);\n\n    const onUnmount = useCallback(function callback(map) {\n        setMap(null);\n    }, []);\n\n    return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n            <div style={listStyle}>\n                <h2>Events Near You</h2>\n                <ul>\n                    {events.map((event, index) => (\n                        <li key={index}>\n                            {event.name} ({event.category}) - Distance: {Math.round(Math.hypot(currentLocation.lat - event.location.lat, currentLocation.lng - event.location.lng) * 69)} miles\n                        </li>\n                    ))}\n                </ul>\n            </div>\n            {isLoaded && (\n                <GoogleMap\n                    mapContainerStyle={containerStyle}\n                    center={currentLocation}\n                    zoom={14} // closer zoom to show events within about a mile\n                    onLoad={onLoad}\n                    onUnmount={onUnmount}\n                >\n                    {events.map((event, index) => (\n                        <Marker key={index} position={event.location} label={event.name} />\n                    ))}\n                </GoogleMap>\n            )}\n        </div>\n    );\n}\n\nexport default Search;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}